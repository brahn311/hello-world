# Cómo hacer consultas con Open SQL

Es conocido en ABAP OPEN SQL a las sentencias SQL "Structured Query Language".
Son utilizadas para trabajar con tablas de base de datos.

En este capítulo veremos los 10 ejemplos más utilizados.

Las sentencias con:
- **SELECT** Seleccion de datos
- **INSERT** Insertamos datos
- **UPDATE** Actualizamos datos
- **OPEN CURSOR** Abre un cursor
- **FETCH** Avanza una posición del cursor
- **CLOSE CURSOR** Cierra el cursor
- **COMMIT WORK** Actualiza los datos en la tabla
- **ROLLBACK WORK** Deshacer cambios en la tabla


##### Ejemplos:
```
REPORT Z_CONSTULTA_TABLA_CON_CABECERA.

* Creamos la estructura de la tabla
TABLES: MARAV.
DATA: BEGIN OF ST_MARAV.
      INCLUDE STRUCTURE MARAV.
DATA END OF ST_MARAV.

* Creamos la tabla interna con cabecera
DATA INT_MARAV LIKE TABLE OF ST_MARAV WITH HEADER LINE.

* Open sql basico
SELECT * FROM MARAV INTO TABLE INT_MARAV.

* Imprimimos los Datos
LOOP AT INT_MARAV.
   IF INT_MARAV-NTGEW <> 0.
      WRITE: / INT_MARAV-MANDT, sy-vline,
               INT_MARAV-MAKTX, sy-vline,
               INT_MARAV-NTGEW, sy-vline.
   ENDIF.
ENDLOOP.
```

```
REPORT Z_CONSTULTA_PRIMER_RESULTADO.

TABLES: MARAV.

SELECT SINGLE * FROM MARAV WHERE MATNR EQ '000000000000000023'.

IF SY-SUBRC = 0.
  WRITE: MARAV-MATNR.
ELSE.
  WRITE: / 'ERROR'.
ENDIF.
```

```
REPORT Z_CONSTULTA_COMPLETA.

TABLES: MARAV.

SELECT * FROM MARAV.
  WRITE: / MARAV-MATNR.
ENDSELECT.

IF SY-SUBRC NE 0.
  WRITE: / 'ERROR'.
ENDIF.
```

- **Limitar primeras X filas**  
`SELECT * FROM MARAV INTO TABLE INT_MARAV UP TO 100 ROWS.`
- **Condición**  
`SELECT * FROM MARAV INTO TABLE INT_MARAV WHERE SPART = '00'.`


```
```

```
```

```
```

```
```

```
```

```
```

```
```
